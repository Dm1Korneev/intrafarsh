(this.webpackJsonpintrafarsh=this.webpackJsonpintrafarsh||[]).push([[0],{47:function(e,t,n){e.exports=n(75)},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),o=n.n(c),u=n(28),i=n(44),l=n(45),s=n(10),p=function(){return function(e){return function(t){return t.payload&&t.payload.error&&console.warn("[Error Middleware error]:",t.payload.error),e(t)}}},m=n(7),f=n(15),b=n(21),E=n(24);var d=function(e){return Object(s.b)("".concat(e,"_REQUEST"))},v=function(e){return Object(s.b)("".concat(e,"_SUCCESS"))},h=function(e){return Object(s.b)("".concat(e,"_FAILURE"))},O=d("APP_START"),j=d("GET_ROUTES"),g=Object(s.b)("SET_ROUTES"),S=Object(s.c)([],(function(e){return e.addCase(g,(function(e,t){return t.payload.routes}))})),T=Object(m.combineReducers)({loaded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t)return e;var n=t.type,r=/(.*)_(SUCCESS)/.exec(n);if(!r)return e;var a=Object(E.a)(r,2),c=a[1];return Object(b.a)({},e,Object(f.a)({},c,!0))},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t)return e;var n=t.type,r=/(.*)_(REQUEST|SUCCESS|FAILURE)/.exec(n);if(!r)return e;var a=Object(E.a)(r,3),c=a[1],o=a[2];return Object(b.a)({},e,Object(f.a)({},c,"REQUEST"===o))},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=/(.*)_(REQUEST|FAILURE)/.exec(n);if(!a)return e;var c=Object(E.a)(a,3),o=c[1],u=c[2];return Object(b.a)({},e,Object(f.a)({},o,"FAILURE"===u?r&&r.error:""))},routes:S}),R=n(14),w=n.n(R),y=n(9),U="".concat("https://intrafarsh.ru/api","/rpc"),x=function(e){return new Promise((function(t){return e.json().then((function(n){return t({response:e,result:n})}))}))},P=function(e){return new Promise((function(t,n){fetch(U,function(e){return{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify(e)}}(e)).then(x).then((function(e){var r=e.response,a=e.result;return r.ok?t(a.result):n(a)})).catch((function(e){return n(e)}))}))},A=function(e,t,n){return{method:e,params:t,id:n}},_=function(){return P(A("Swagger"))},k=function(){return P(A("Routes"))},C=w.a.mark(I);function I(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.b)(_);case 3:return e=t.sent,t.next=6,Object(y.c)(v("APP_START")({result:e}));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(y.c)(h("APP_START")({error:t.t0.message}));case 12:case"end":return t.stop()}}),C,null,[[0,8]])}var D=w.a.mark(N);function N(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y.b)(k);case 3:return e=t.sent,t.next=6,Object(y.c)(g({routes:e}));case 6:return t.next=8,Object(y.c)(v("GET_ROUTES")({routes:e}));case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(y.c)(h("GET_ROUTES")({error:t.t0.message}));case 14:case"end":return t.stop()}}),D,null,[[0,10]])}var Q=w.a.mark(G);function G(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y.a,e.next=3,Object(y.d)(d("APP_START").type,I);case 3:return e.t1=e.sent,e.next=6,Object(y.d)(d("GET_ROUTES").type,N);case 6:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=10,(0,e.t0)(e.t3);case 10:case"end":return e.stop()}}),Q)}var L=function(){var e=Object(l.a)(),t=Object(s.a)({reducer:T,middleware:[].concat(Object(i.a)(Object(s.d)()),[p,e]),devTools:!1});return e.run(G),t},M=function(e,t){var n=t.mapStateToProps,r=void 0===n?null:n,a=t.mapDispatchToProps,c=void 0===a?null:a,o=e;if(r||c){var i=c?function(e){return Object(m.bindActionCreators)(c,e)}:null;o=Object(u.b)(r,i)(e)}return o},z=n(17),F=n(18),J=function(e){return e.routes},W=n(22),B=n(23);function Z(){var e=Object(W.a)(["\n    width: 5rem;\n    height: 5rem;\n"]);return Z=function(){return e},e}var H=B.a.img(Z()),K=function(e){var t=e.url,n=e.name;return a.a.createElement(H,{src:t,alt:"Avatar of ".concat(n)})};function V(){var e=Object(W.a)(["\n    margin-bottom: 1rem;\n    border-radius: 0.5rem;\n    background-color: #888;\n    padding: 1rem;\n"]);return V=function(){return e},e}var X=B.a.main(V()),Y=function(e){var t=e.routerName,n=e.routeID,r=e.imageUrl;return a.a.createElement(z.b,{to:"/route/".concat(n)},a.a.createElement(X,null,"routerName: ".concat(t),"routeID: ".concat(n),a.a.createElement(K,{url:r,name:t})))};function $(){var e=Object(W.a)(["\n    padding: 1rem;\n"]);return $=function(){return e},e}var q=B.a.main($()),ee=M((function(e){var t=e.getRoutes,n=e.routes;return Object(r.useEffect)((function(){t()}),[t]),a.a.createElement(q,null,n.map((function(e){var t={routeID:e.RouteID,routerName:e.RouterName,imageUrl:e.ImageUrl};return a.a.createElement(Y,Object.assign({key:e.RouteID},t))})))}),{mapDispatchToProps:{getRoutes:j},mapStateToProps:function(e){return{routes:J(e)}}}),te=n(29),ne={width:"100%",height:"100%"},re=Object(te.GoogleApiWrapper)({apiKey:"AIzaSyDs6JpHvMQeNZPleYdZXSzzAI4LygkUbuQ"})((function(e){return a.a.createElement(te.Map,Object.assign({zoom:16,containerStyle:ne,initialCenter:{lat:55.7087173,lng:37.7277525},streetViewControl:!1,mapTypeControl:!1},e),a.a.createElement(te.Marker,{name:"Congress centre Technopolis Moscow",position:{lat:55.7083437,lng:37.7245968}}))})),ae=function(){return a.a.createElement("div",null,"Place page")},ce=function(){return a.a.createElement("nav",null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(z.b,{to:"/routes"},"Routes")),a.a.createElement("li",null,a.a.createElement(z.b,{to:"/route"},"Route")),a.a.createElement("li",null,a.a.createElement(z.b,{to:"/place"},"Place"))))},oe=M((function(e){var t=e.appStart;return Object(r.useEffect)((function(){t()}),[t]),a.a.createElement(z.a,null,a.a.createElement(F.c,null,a.a.createElement(F.a,{path:"/routes"},a.a.createElement(ee,null)),a.a.createElement(F.a,{path:"/route"},a.a.createElement(re,null)),a.a.createElement(F.a,{path:"/place"},a.a.createElement(ae,null)),a.a.createElement(F.a,{path:"/"},a.a.createElement(ce,null))))}),{mapDispatchToProps:{appStart:O}});n(74),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(u.a,{store:L()},a.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.84e0e571.chunk.js.map